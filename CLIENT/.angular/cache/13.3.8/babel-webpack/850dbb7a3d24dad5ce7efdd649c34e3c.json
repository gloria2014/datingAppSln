{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/message.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-timeago\";\nconst _c0 = [\"messageForm\"];\n\nfunction MemberMessagesComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No mensajes aun .... say hi by using the message box below \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MemberMessagesComponent_ul_4_li_1_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"(No leido)\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MemberMessagesComponent_ul_4_li_1_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"timeago\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(Leido \", i0.ɵɵpipeBind1(2, 1, item_r4.dateRead + \"Z\"), \")\");\n  }\n}\n\nfunction MemberMessagesComponent_ul_4_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"span\", 13);\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\", 16)(6, \"small\", 17)(7, \"span\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ul_4_li_1_span_10_Template, 2, 0, \"span\", 19);\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ul_4_li_1_span_11_Template, 3, 3, \"span\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"\", item_r4.senderPhotoUrl || \"./assets/user.png\", \" \", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 5, item_r4.messageSent + \"Z\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !item_r4.dateRead && item_r4.senderUserName !== ctx_r3.username);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r4.dateRead && item_r4.senderUserName !== ctx_r3.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.content);\n  }\n}\n\nfunction MemberMessagesComponent_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 11);\n    i0.ɵɵtemplate(1, MemberMessagesComponent_ul_4_li_1_Template, 14, 7, \"li\", 12);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.mensajeServicio.messageThread$));\n  }\n}\n/* class 192 aca creamos esta clase para listar llos mensajes de un memeber\r\neste component member-messages es hijo del member-detail*/\n\n\nexport class MemberMessagesComponent {\n  constructor(mensajeServicio) {\n    this.mensajeServicio = mensajeServicio;\n  }\n\n  ngOnInit() {}\n\n  sendMessage() {\n    if (!this.username) return;\n    this.mensajeServicio.sendMesage(this.username, this.messageContent).then(() => {\n      this.messageForm.reset();\n    });\n  }\n\n}\n\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) {\n  return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService));\n};\n\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MemberMessagesComponent,\n  selectors: [[\"app-member-messages\"]],\n  viewQuery: function MemberMessagesComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageForm = _t.first);\n    }\n  },\n  inputs: {\n    username: \"username\"\n  },\n  decls: 14,\n  vars: 8,\n  consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\"], [\"class\", \"chat\", 4, \"ngIf\"], [1, \"card-footer\"], [\"autocomplete\", \"off\", 3, \"ngSubmit\"], [\"messageform\", \"ngForm\"], [1, \"input-group\"], [\"name\", \"messageContent\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Envia un mensaje privado\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"chat\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-end\"], [\"alt\", \"imagen del usuario\", 1, \"rounded-circle\", 3, \"src\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"]],\n  template: function MemberMessagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtemplate(2, MemberMessagesComponent_div_2_Template, 2, 0, \"div\", 2);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, MemberMessagesComponent_ul_4_Template, 3, 3, \"ul\", 3);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function MemberMessagesComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.sendMessage();\n      });\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function MemberMessagesComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.messageContent = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\n      i0.ɵɵtext(13, \"Enviar\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(8);\n\n      let tmp_0_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = i0.ɵɵpipeBind1(3, 4, ctx.mensajeServicio.messageThread$)) == null ? null : tmp_0_0.length) === 0);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 6, ctx.mensajeServicio.messageThread$).length > 0);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.messageContent);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !_r2.valid);\n    }\n  },\n  directives: [i2.NgIf, i2.NgForOf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel],\n  pipes: [i2.AsyncPipe, i4.TimeagoPipe],\n  styles: [\".card[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]{\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%]{\\r\\n    \\r\\n    width: 50% !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsb0JBQW9CO0lBQ3BCLGlDQUFpQztBQUNyQzs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixxQkFBcUI7QUFDekIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuXHJcbn1cclxuXHJcbi5jaGF0e1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5jaGF0IGxpe1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCAjQjNBOUE5O1xyXG59XHJcblxyXG4ucm91bmRlZC1jaXJjbGV7XHJcbiAgICAvKiBtYXgtaGVpZ2h0OiA1MHB4OyAqL1xyXG4gICAgd2lkdGg6IDUwJSAhaW1wb3J0YW50O1xyXG59ICJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Gloria/Desktop/Udemy/local_DatingApp/CLIENT/src/app/members/member-messages/member-messages.component.ts"],"names":["i0","i1","i2","i3","i4","_c0","MemberMessagesComponent_div_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","MemberMessagesComponent_ul_4_li_1_span_10_Template","MemberMessagesComponent_ul_4_li_1_span_11_Template","ɵɵpipe","item_r4","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","dateRead","MemberMessagesComponent_ul_4_li_1_Template","ɵɵelement","ɵɵtemplate","ctx_r3","ɵɵpropertyInterpolate1","senderPhotoUrl","ɵɵsanitizeUrl","ɵɵtextInterpolate","messageSent","ɵɵproperty","senderUserName","username","content","MemberMessagesComponent_ul_4_Template","ctx_r1","mensajeServicio","messageThread$","MemberMessagesComponent","constructor","ngOnInit","sendMessage","sendMesage","messageContent","then","messageForm","reset","ɵfac","MemberMessagesComponent_Factory","t","ɵɵdirectiveInject","MessageService","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","MemberMessagesComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","first","inputs","decls","vars","consts","template","MemberMessagesComponent_Template","ɵɵlistener","MemberMessagesComponent_Template_form_ngSubmit_7_listener","MemberMessagesComponent_Template_input_ngModelChange_10_listener","$event","_r2","ɵɵreference","tmp_0_0","length","valid","directives","NgIf","NgForOf","ɵNgNoValidate","NgControlStatusGroup","NgForm","DefaultValueAccessor","RequiredValidator","NgControlStatus","NgModel","pipes","AsyncPipe","TimeagoPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/_services/message.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"ngx-timeago\";\r\nconst _c0 = [\"messageForm\"];\r\nfunction MemberMessagesComponent_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \" No mensajes aun .... say hi by using the message box below \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MemberMessagesComponent_ul_4_li_1_span_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 21);\r\n    i0.ɵɵtext(1, \"(No leido)\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MemberMessagesComponent_ul_4_li_1_span_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const item_r4 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"(Leido \", i0.ɵɵpipeBind1(2, 1, item_r4.dateRead + \"Z\"), \")\");\r\n} }\r\nfunction MemberMessagesComponent_ul_4_li_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\")(2, \"span\", 13);\r\n    i0.ɵɵelement(3, \"img\", 14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"div\", 16)(6, \"small\", 17)(7, \"span\", 18);\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵpipe(9, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ul_4_li_1_span_10_Template, 2, 0, \"span\", 19);\r\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ul_4_li_1_span_11_Template, 3, 3, \"span\", 20);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelementStart(12, \"p\");\r\n    i0.ɵɵtext(13);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const item_r4 = ctx.$implicit;\r\n    const ctx_r3 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate1(\"src\", \"\", item_r4.senderPhotoUrl || \"./assets/user.png\", \" \", i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 5, item_r4.messageSent + \"Z\"));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", !item_r4.dateRead && item_r4.senderUserName !== ctx_r3.username);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", item_r4.dateRead && item_r4.senderUserName !== ctx_r3.username);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r4.content);\r\n} }\r\nfunction MemberMessagesComponent_ul_4_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 11);\r\n    i0.ɵɵtemplate(1, MemberMessagesComponent_ul_4_li_1_Template, 14, 7, \"li\", 12);\r\n    i0.ɵɵpipe(2, \"async\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.mensajeServicio.messageThread$));\r\n} }\r\n/* class 192 aca creamos esta clase para listar llos mensajes de un memeber\r\neste component member-messages es hijo del member-detail*/\r\nexport class MemberMessagesComponent {\r\n    constructor(mensajeServicio) {\r\n        this.mensajeServicio = mensajeServicio;\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    sendMessage() {\r\n        if (!this.username)\r\n            return;\r\n        this.mensajeServicio.sendMesage(this.username, this.messageContent).then(() => {\r\n            this.messageForm.reset();\r\n        });\r\n    }\r\n}\r\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) { return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService)); };\r\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MemberMessagesComponent, selectors: [[\"app-member-messages\"]], viewQuery: function MemberMessagesComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageForm = _t.first);\r\n    } }, inputs: { username: \"username\" }, decls: 14, vars: 8, consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\"], [\"class\", \"chat\", 4, \"ngIf\"], [1, \"card-footer\"], [\"autocomplete\", \"off\", 3, \"ngSubmit\"], [\"messageform\", \"ngForm\"], [1, \"input-group\"], [\"name\", \"messageContent\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Envia un mensaje privado\", 1, \"form-control\", \"input-sm\", 3, \"ngModel\", \"ngModelChange\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"chat\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-end\"], [\"alt\", \"imagen del usuario\", 1, \"rounded-circle\", 3, \"src\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"]], template: function MemberMessagesComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\r\n        i0.ɵɵtemplate(2, MemberMessagesComponent_div_2_Template, 2, 0, \"div\", 2);\r\n        i0.ɵɵpipe(3, \"async\");\r\n        i0.ɵɵtemplate(4, MemberMessagesComponent_ul_4_Template, 3, 3, \"ul\", 3);\r\n        i0.ɵɵpipe(5, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"form\", 5, 6);\r\n        i0.ɵɵlistener(\"ngSubmit\", function MemberMessagesComponent_Template_form_ngSubmit_7_listener() { return ctx.sendMessage(); });\r\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"input\", 8);\r\n        i0.ɵɵlistener(\"ngModelChange\", function MemberMessagesComponent_Template_input_ngModelChange_10_listener($event) { return ctx.messageContent = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"button\", 10);\r\n        i0.ɵɵtext(13, \"Enviar\");\r\n        i0.ɵɵelementEnd()()()()()();\r\n    } if (rf & 2) {\r\n        const _r2 = i0.ɵɵreference(8);\r\n        let tmp_0_0;\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = i0.ɵɵpipeBind1(3, 4, ctx.mensajeServicio.messageThread$)) == null ? null : tmp_0_0.length) === 0);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 6, ctx.mensajeServicio.messageThread$).length > 0);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.messageContent);\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"disabled\", !_r2.valid);\r\n    } }, directives: [i2.NgIf, i2.NgForOf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.RequiredValidator, i3.NgControlStatus, i3.NgModel], pipes: [i2.AsyncPipe, i4.TimeagoPipe], styles: [\".card[_ngcontent-%COMP%]{\\r\\n\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]{\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%]{\\r\\n    \\r\\n    width: 50% !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxtQkFBbUI7SUFDbkIsb0JBQW9CO0lBQ3BCLGlDQUFpQztBQUNyQzs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixxQkFBcUI7QUFDekIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuXHJcbn1cclxuXHJcbi5jaGF0e1xyXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn1cclxuXHJcbi5jaGF0IGxpe1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IGRvdHRlZCAjQjNBOUE5O1xyXG59XHJcblxyXG4ucm91bmRlZC1jaXJjbGV7XHJcbiAgICAvKiBtYXgtaGVpZ2h0OiA1MHB4OyAqL1xyXG4gICAgd2lkdGg6IDUwJSAhaW1wb3J0YW50O1xyXG59ICJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}